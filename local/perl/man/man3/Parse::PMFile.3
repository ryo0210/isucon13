.\" -*- mode: troff; coding: utf-8 -*-
.\" Automatically generated by Pod::Man 5.01 (Pod::Simple 3.43)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" \*(C` and \*(C' are quotes in nroff, nothing in troff, for use with C<>.
.ie n \{\
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds C`
.    ds C'
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is >0, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.\"
.\" Avoid warning from groff about undefined register 'F'.
.de IX
..
.nr rF 0
.if \n(.g .if rF .nr rF 1
.if (\n(rF:(\n(.g==0)) \{\
.    if \nF \{\
.        de IX
.        tm Index:\\$1\t\\n%\t"\\$2"
..
.        if !\nF==2 \{\
.            nr % 0
.            nr F 2
.        \}
.    \}
.\}
.rr rF
.\" ========================================================================
.\"
.IX Title "Parse::PMFile 3"
.TH Parse::PMFile 3 2024-04-21 "perl v5.38.0" "User Contributed Perl Documentation"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh
.SH NAME
Parse::PMFile \- parses .pm file as PAUSE does
.SH SYNOPSIS
.IX Header "SYNOPSIS"
.Vb 1
\&    use Parse::PMFile;
\&
\&    my $parser = Parse::PMFile\->new($metadata, {VERBOSE => 1});
\&    my $packages_info = $parser\->parse($pmfile);
\&
\&    # if you need info about invalid versions
\&    my ($packages_info, $errors) = $parser\->parse($pmfile);
\&
\&    # to check permissions
\&    my $parser = Parse::PMFile\->new($metadata, {
\&        USERID => \*(AqISHIGAKI\*(Aq,
\&        PERMISSIONS => PAUSE::Permissions\->new,
\&    });
.Ve
.SH DESCRIPTION
.IX Header "DESCRIPTION"
The most of the code of this module is taken from the PAUSE code as of April 2013 almost verbatim. Thus, the heart of this module should be quite stable. However, I made it not to use pipe ("\-|") as well as I stripped database-related code. If you encounter any issue, that's most probably because of my modification.
.PP
This module doesn't provide features to extract a distribution or parse meta files intentionally.
.SH METHODS
.IX Header "METHODS"
.SS new
.IX Subsection "new"
creates an object. You can also pass a hashref taken from META.yml etc, and an optional hashref. Options are:
.IP ALLOW_DEV_VERSION 4
.IX Item "ALLOW_DEV_VERSION"
Parse::PMFile usually ignores a version with an underscore as PAUSE does (because it's for a developer release, and should not be indexed). Set this option to true if you happen to need to keep such a version for better analysis.
.IP VERBOSE 4
.IX Item "VERBOSE"
Set this to true if you need to know some details.
.IP FORK 4
.IX Item "FORK"
As of version 0.17, Parse::PMFile stops forking while parsing a version for better performance. Parse::PMFile should return the same result no matter how this option is set, but if you do care, set this to true to fork as PAUSE does.
.IP "USERID, PERMISSIONS" 4
.IX Item "USERID, PERMISSIONS"
As of version 0.21, Parse::PMFile checks permissions of a package if both USERID and PERMISSIONS (which should be an instance of PAUSE::Permissions) are provided. Unauthorized packages are removed.
.IP UNSAFE 4
.IX Item "UNSAFE"
Parse::PMFile usually parses a module version in a Safe compartment. However, this approach doesn't work smoothly under older perls (prior to 5.10) plus some combinations of recent versions of Safe.pm (2.24 and above) and version.pm (0.9905 and above) for various reasons. As of version 0.27, Parse::PMFile simply uses \f(CW\*(C`eval\*(C'\fR to parse a version under older perls. If you want it to use always \f(CW\*(C`eval\*(C'\fR (even under recent perls), set this to true.
.SS parse
.IX Subsection "parse"
takes a path to a .pm file, and returns a hash reference that holds information for package(s) found in the file.
.SH "SEE ALSO"
.IX Header "SEE ALSO"
Parse::LocalDistribution, PAUSE::Permissions
.PP
Most part of this module is derived from PAUSE and CPAN::Version.
.PP
<https://github.com/andk/pause>
.PP
<https://github.com/andk/cpanpm>
.SH AUTHOR
.IX Header "AUTHOR"
Andreas Koenig <andreas.koenig@anima.de>
.PP
Kenichi Ishigaki, <ishigaki@cpan.org>
.SH "COPYRIGHT AND LICENSE"
.IX Header "COPYRIGHT AND LICENSE"
Copyright 1995 \- 2013 by Andreas Koenig <andk@cpan.org> for most of the code.
.PP
Copyright 2013 by Kenichi Ishigaki for some.
.PP
This program is free software; you can redistribute it and/or
modify it under the same terms as Perl itself.
.SH "POD ERRORS"
.IX Header "POD ERRORS"
Hey! \fBThe above document had some coding errors, which are explained below:\fR
.IP "Around line 381:" 4
.IX Item "Around line 381:"
=pod directives shouldn't be over one line long!  Ignoring all 10 lines of content
